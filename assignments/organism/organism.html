

<!DOCTYPE html>
<html>
<head>

  <title>Decision maker</title>
  <link rel="stylesheet" href="organism.css" />
  <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">

</head>



<body>

  <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1193 480">

    <path class="st0" d="M569 239.5c0-80.1-48.4-149-117.5-178.9C409 22.8 353.1-.2 291.8-.2c-100.2 0-186 61.3-222 148.4C29.6 159.1 0 195.9 0 239.5c0 43.5 29.4 80.1 69.3 91.1 35.8 87.7 121.9 149.5 222.5 149.5 62.3 0 119.1-23.8 161.8-62.7 68-30.3 115.4-98.6 115.4-177.9z" id="Layer_2"/>

    <path class="st0" d="M548 264.3v-48.5c0-6.4 5.3-11.5 11.7-11.2l622.2 24.3c14.3.6 14.3 21.8 0 22.4l-622.2 24.3c-6.4.1-11.7-5-11.7-11.3z" id="Layer_5"/>

    <g id="Layer_4">
      <circle cx="118.5" cy="185.5" r="18"/>
      <circle cx="118.5" cy="294.5" r="18"/>
    </g>

    <g id="Layer_3">
      <circle class="st1" cx="223" cy="203" r="12"/>
      <circle class="st1" cx="223" cy="115" r="12"/>
      <circle class="st1" cx="368" cy="127" r="12"/>
      <circle class="st1" cx="410" cy="230" r="12"/>
      <circle class="st1" cx="284" cy="341" r="12"/>
      <circle class="st1" cx="262" cy="135.1" r="9"/>
      <circle class="st1" cx="262" cy="69" r="9"/>
      <circle class="st1" cx="371" cy="78" r="9"/>
      <circle class="st1" cx="376.5" cy="197" r="9"/>
      <circle class="st1" cx="307.9" cy="238.9" r="9"/>
      <ellipse class="st1" cx="429.1" cy="303.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="486.1" cy="168.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="488.3" cy="358.2" rx="12" ry="12"/>
      <ellipse class="st1" cx="324.1" cy="415.6" rx="12" ry="12"/>
      <ellipse class="st1" cx="242.1" cy="436.2" rx="12" ry="12"/>
      <ellipse class="st1" cx="455.8" cy="256.8" rx="9" ry="9"/>
      <ellipse class="st1" cx="495.6" cy="237.6" rx="9" ry="9"/>
      <ellipse class="st1" cx="524.9" cy="303.1" rx="9" ry="9"/>
      <ellipse class="st1" cx="403.5" cy="415.2" rx="9" ry="9"/>
      <ellipse class="st1" cx="361.5" cy="351.5" rx="9" ry="9"/>
      <ellipse class="st1" cx="178" cy="197.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="152.5" cy="88.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="308.1" cy="169.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="180.1" cy="269.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="168" cy="329.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="186.7" cy="115.6" rx="9" ry="9"/>
      <ellipse class="st1" cx="199.8" cy="50.8" rx="9" ry="9"/>
      <ellipse class="st1" cx="313.8" cy="42.1" rx="9" ry="9"/>
      <ellipse class="st1" cx="268.9" cy="193.9" rx="9" ry="9"/>
      <ellipse class="st1" cx="217.2" cy="248.3" rx="9" ry="9"/>
      <ellipse class="st1" cx="275.1" cy="291.1" rx="12" ry="12"/>
      <ellipse class="st1" cx="341.5" cy="235.3" rx="12" ry="12"/>
      <ellipse class="st1" cx="364.5" cy="379" rx="12" ry="12"/>
      <ellipse class="st1" cx="192.2" cy="402.8" rx="12" ry="12"/>
      <ellipse class="st1" cx="136.6" cy="348.5" rx="12" ry="12"/>
      <ellipse class="st1" cx="331.3" cy="278" rx="9" ry="9"/>
      <ellipse class="st1" cx="437.5" cy="135.2" rx="9" ry="9"/>
      <ellipse class="st1" cx="467.5" cy="112.2" rx="9" ry="9"/>
      <ellipse class="st1" cx="412.8" cy="370.2" rx="9" ry="9"/>
      <ellipse class="st1" cx="283.3" cy="388.1" rx="9" ry="9"/>
      <ellipse class="st1" cx="241.5" cy="347.3" rx="9" ry="9"/>
    </g>

  </svg> -->

  <!--
  IMPORTANT NOTICE
  Virtual pet needs Vitamins M and R.
  Virtual pet keeps consuming Vitamins M and R.
  Click the appropriate Feed button to restore vitamin.
  Virtual pet cannot survive without vitamins M and R.
  Virtual pet is entirely dependent on your assistance to acquire necessary nutrition.

  This is a repost of a virtual pet thing I did with JavaScript, which I previously posted on GitHub.
  Except now -- look out this thing is sans-serif.
  I might do some more stuff to it later.
  -->

  <head>
  Â  <title>Virtual Pet</title>
  </head>


  <body>

  <!--
  Virtual pet is an image (in this case, some rubbish I made with type)
  with eyes/face expressing state of pet (well, sick, dead)
  -->
  	<div id="petImage" class="alignCtr backMe cornered floatLeft">

  		<div id="petTop">^^^^^^^^</div>
  		<div id="petEyes">o....o</div>
  		<div id="petMouth">=v====v=</div>
  		<div id="petBtm">vvvvvvvv</div>

  	</div>

  <!--
  Next section is the HUD, which will appear to the right of the pet image.
  The three meters (health, vitamin M, vitamin R) are labeled.
  There are 2 buttons for feeding your pet vitamin M and vitamin R.
  -->
      <div id="hud">

  		<div id="labels" class="backMe floatLeft">
  			<div id="labelH">Health</div>
  			<div id="labelVM">Vitamin M</div>
  			<div id="labelVR">Vitamin R</div>
  		</div>

  		<div id="meters" class="backMe floatLeft">
  			<div id="mtrH" class="cornered heightFix"></div>
  			<div id="mtrVM" class="cornered heightFix"></div>
  			<div id="mtrVR" class="cornered heightFix"></div>
  		</div>

  		<div id="buttons" class="backMe floatLeft">
  			<div id="btnVM" class="feedBtn alignCtr cornered heightFix">Feed</div>
  			<div id="btnVR" class="feedBtn alignCtr cornered heightFix">Feed</div>
  		</div>

  	</div>

  	<!--
  	Feedback div display state is controlled by Javascript. It will appear under everything else.
  	-->
  	<div id="feedback" class="alignCtr backMe cornered">Oops, your pet didn't make it! Refresh to try again.</div>



  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript">

  (function() {
  "use strict";

   document.addEventListener('DOMContentLoaded',function(){

       //Variables
  	 	//Pet's stats are health, vitamin M, and vitamin R
       var ctMaxH =       30,
           ctMaxVM =      30,
           ctMaxVR =      30,

           ctCurH =       ctMaxH,
           ctCurVM =      ctMaxVM,
           ctCurVR =      ctMaxVR,

           intervalH =    1000,
           intervalVM =   2000,
           intervalVR =   3000,

  		 	//When vitamins fall below threshold, pet starts losing health
           threshold =    ctMaxH * 0.6,
           points =       2,
           widther =      4,

  		 	//When conditions are dangerous, affected stat bars will be hilited in red
  		 alive =		true,
           dangerH =      false,
           dangerVM =     false,
           dangerVR =     false,

  		 	//Get meters to change width and border color
           getMtrH =      document.getElementById('mtrH'),
           getMtrVM =     document.getElementById('mtrVM'),
           getMtrVR =     document.getElementById('mtrVR'),

  		 getStyleH =    getMtrH.style,
           getStyleVM =   getMtrVM.style,
           getStyleVR =   getMtrVR.style,
  		 bdrStart =		"1px solid ",

  		 	//Colors for meter borders
  		 clrDfltH =     "#81F781",  //green
           clrDfltVM =    "#FAAC58",  //orange
           clrDfltVR =    "#5882FA",  //blue

           clrCurH =      clrDfltH,
           clrCurVM =     clrDfltVM,
           clrCurVR =     clrDfltVR,

           clrWarn =      "#FF0040", //red

  		 	//Get buttons for click events
           getBtnVM =     document.getElementById('btnVM'),
           getBtnVR =     document.getElementById('btnVR'),

  		 	//Get eyes to express status
  		 getEyes =		document.getElementById('petEyes'),
  		 eyesOK =		"o....o",
  	 	 eyesSick = 	"@....@",
  		 eyesDead =		"x....x",

  		 	//Get style for the feedback div
  	 	 getStyleFb = 	document.getElementById('feedback').style;


  	 getStyleFb.display = 'none';
  	 meterWidth();

       //At set intervals, vitamin M decreases.
       setInterval(function(){
  		 if(alive == true){
  				loseVM();
  			 	checkDangerVM();
  	 	}
       },intervalVM);

       //At set intervals, vitamin R decreases.
       setInterval(function(){
  		 if(alive == true){
  				loseVR();
  			 	checkDangerVR();
  		 }
       },intervalVR);

       /*
  	 What happens in this nest:
  	 Health starts to drop if vitamin M or vitamin R are too low.
  	 Meter graphics are adjusted as applicable.
  	 If the pet is dead, then the ending events trigger.
  	 */
       setInterval(function(){

  		 meterWidth();
  		 checkDangerH();

  		 //Adjust graphics
  		 if(dangerH == true)
               {
  				warnH();
  				loseH();
               }
  		 else
  		 	{
  				okH();
  			}

  		 if(dangerVM == true)
               {
  				 warnVM();
               }
  		 else
  			 {
  				 okVM();
  			 }

  		 if(dangerVR == true)
               {
  				 warnVR();
               }
  		 else
  			 {
  				 okVR();
  			 }

  	 //When your pet runs out of health, it will be a gonner.
  	 if(ctCurH < 0){
  		 alive = false;
  	 }

       if(alive == false)
          {
              ending();
          }

       },intervalH);


       //Clicking on a "Feed" button will restore vitamin and health to your pet.
       getBtnVM.addEventListener("click",function(){
  		 if(alive == true){
  			 if(ctCurVM + points <= ctMaxVM)
  			 	{
  					ctCurVM = ctCurVM + points;

  					if(ctCurH + points < ctMaxH)
  						{
  							ctCurH = ctCurH + points;
  						}

  					meterWidth();

  					//Check conditions and adjust graphics as appropriate.
  					checkDangerH();
  					checkDangerVM();
  					checkDangerVR();

  					if(dangerH == false)
  					{okH();}
  					if(dangerVM == false)
  					{okVM();}
  					if(dangerVR == false)
  					{okVR();}
  			 }
  		 }
  	 });

       getBtnVR.addEventListener("click",function(){
  		 if(alive == true){
  		 	if(ctCurVR + points <= ctMaxVR)
  				{
  					ctCurVR = ctCurVR + points;

  					if(ctCurH + points < ctMaxH)
  						{
  							ctCurH = ctCurH + points;
  						}

  					meterWidth();

  					//Check conditions and adjust graphics as appropriate.
  					checkDangerH();
  					checkDangerVM();
  					checkDangerVR();

  					if(dangerH == false)
  						{okH();}
  					if(dangerVM == false)
  						{okVM();}
  					if(dangerVR == false)
  						{okVR();}
               }
  		 }
  	 });


       //Functions

  	 function meterWidth(){
  		 //This updates the width of the meters.
  			getStyleH.width = ctCurH * widther + "px";
  		 	getStyleVM.width = ctCurVM * widther + "px";
  		 	getStyleVR.width = ctCurVR * widther + "px";
  	 }

  	 function checkDangerVM(){
  		 		if(ctCurVM < threshold)
  					{
  						dangerVM = true;
  					}
  		 		else
  					{
  						dangerVM = false;
  					}
  	 }

  	 function checkDangerVR(){
  		 		if(ctCurVR < threshold)
  					{
  						dangerVR = true;
  					}
  		 		else
  					{
  						dangerVR = false;
  					}
  	 }

  	 function checkDangerH(){
  		 if((ctCurVM < threshold || ctCurVR < threshold)  && alive == true)
               {
                   dangerH = true;
               }
  		 else
  			 {
  				 dangerH = false;
  			 }
  	 }

       function loseVM(){
           ctCurVM = ctCurVM - points;
       }

       function loseVR(){
           ctCurVR = ctCurVR - points;
       }

       function loseH(){
            ctCurH = ctCurH - points;
       }

  	 function warnVM(){
  		 getEyes.innerHTML = eyesSick;
  		 getStyleVM.border = bdrStart + clrWarn;
  	 }

  	 function warnVR(){
  		 getEyes.innerHTML = eyesSick;
  		 getStyleVR.border = bdrStart + clrWarn;
  	 }

  	 function warnH(){
  		 getEyes.innerHTML = eyesSick;
  		 getStyleH.border = bdrStart + clrWarn;
  	 }

  	 function okVM(){
  		 getStyleVM.border = bdrStart + clrDfltVM;
  	 }

  	 function okVR(){
  		 getStyleVR.border = bdrStart + clrDfltVR;
  	 }

  	 function okH(){
  		 getEyes.innerHTML = eyesOK;
  		 getStyleH.border = bdrStart + clrDfltH;
  	 }

       function ending(){
  		 getEyes.innerHTML = eyesDead;
  		 getStyleFb.display = 'block';
       }

      });

  })();

  </script>



</body>

</html>
